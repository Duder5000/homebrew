<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <!-- ultratech/bionic implants -->
  
  <!-- hacking port implant -->
  
  <HediffDef ParentName="ImplantHediffBase" MayRequire="ludeon.rimworld.ideology"> <!-- 200% hacking speed -->
	<!--<hediffClass>RH_Repair.RH_MendImplant</hediffClass>-->
    <defName>HackingPortImplant</defName>
    <label>hacking port</label>
    <labelNoun>a hacking port implant</labelNoun>
    <description>An installed hacking port.</description>
    <descriptionHyperlinks><ThingDef>HackingPortImplant</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>HackingPortImplant</spawnThingOnRemoved>
	<stages>
      <li>
        <statFactors>
          <HackingSpeed>2</HackingSpeed>
        </statFactors>
      </li>
    </stages>
	<!--<comps>
      <li Class="HediffCompProperties_ReactOnDamage">
        <damageDefIncoming>EMP</damageDefIncoming>
        <createHediff>BrainShock</createHediff>
      </li>
    </comps>-->
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartBionicBase" MayRequire="ludeon.rimworld.ideology">
    <defName>HackingPortImplant</defName>
    <label>hacking port</label>
	<description>An extendable multi-band data cable with an adaptive port, linked directly to the nervous system via a biogel nerve-link.</description>
    <descriptionHyperlinks><RecipeDef>InstallHackingPortImplant</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite MayRequire="ludeon.rimworld.royalty">NeuralComputation</researchPrerequisite>
    </recipeMaker>
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantBase" MayRequire="ludeon.rimworld.ideology">
    <defName>InstallHackingPortImplant</defName>
    <label>install hacking port</label>
    <description>Install a hacking port.</description>
    <descriptionHyperlinks>
      <ThingDef>HackingPortImplant</ThingDef>
      <HediffDef>HackingPortImplant</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing hacking port.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>HackingPortImplant</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>HackingPortImplant</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Neck</li>
    </appliedOnFixedBodyParts>
    <addsHediff>HackingPortImplant</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase" MayRequire="ludeon.rimworld.ideology">
    <defName>RemoveHackingPortImplant</defName>
    <label>remove hacking port</label>
    <description>Remove hacking port.</description>
    <descriptionHyperlinks>
      <ThingDef>HackingPortImplant</ThingDef>
      <HediffDef>HackingPortImplant</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing hacking port.</jobString>
    <removesHediff>HackingPortImplant</removesHediff>
  </RecipeDef>
  
  <!-- strength enhancer -->
  
  <HediffDef ParentName="ImplantHediffBase"><!-- 125% melee damage factor, 150% or +50 carrying capacity and map carry capacity, mutually exclusive with aesthetic shaper(?)-->
    <defName>StrengthEnhancer</defName>
    <label>strength enhancer</label>
    <labelNoun>a strength enhancer</labelNoun>
    <description>An installed strength enhancer.</description>
    <descriptionHyperlinks><ThingDef>StrengthEnhancer</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>StrengthEnhancer</spawnThingOnRemoved>
    <stages>
      <li>
        <statOffsets>
          <CarryingCapacity>25</CarryingCapacity>
        </statOffsets>
		<statFactors>
		  <MeleeDamageFactor>1.25</MeleeDamageFactor>
		</statFactors>
      </li>
    </stages>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartBionicBase">
    <defName>StrengthEnhancer</defName>
    <label>strength enhancer</label>
    <description>A sophisticated package of hormonal and mechanite influences shapes the muscles and fat on the body, adding additional muscle mass where needed to achieve greater physical capabilities.</description>
    <descriptionHyperlinks><RecipeDef>InstallStrengthEnhancer</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>3</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite MayRequire="ludeon.rimworld.royalty">FleshShaping</researchPrerequisite>
    </recipeMaker>
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallStrengthEnhancer</defName>
    <label>install strength enhancer</label>
    <description>Install a strength enhancer.</description>
    <descriptionHyperlinks>
      <ThingDef>StrengthEnhancer</ThingDef>
      <HediffDef>StrengthEnhancer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing strength enhancer.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>StrengthEnhancer</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>StrengthEnhancer</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>StrengthEnhancer</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveStrengthEnhancer</defName>
    <label>remove strength enhancer</label>
    <description>Remove strength enhancer.</description>
    <descriptionHyperlinks>
      <ThingDef>StrengthEnhancer</ThingDef>
      <HediffDef>StrengthEnhancer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing strength enhancer.</jobString>
    <removesHediff>StrengthEnhancer</removesHediff>
  </RecipeDef>
  
  <!--Synthmarrow -->
  
  <HediffDef ParentName="ImplantHediffBase">
    <hediffClass>LTS_Implants.LTS_ChangeHediff</hediffClass>
    <defName>Synthmarrow</defName>
    <label>synthmarrow</label>
    <labelNoun>a synthmarrow</labelNoun>
    <description>An installed synthmarrow.</description>
    <descriptionHyperlinks><ThingDef>Synthmarrow</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>Synthmarrow</spawnThingOnRemoved>
    <modExtensions>
      <li Class="LTS_Implants.LTS_IModExtension">
		<LTS_TicksBetweenPulse>900</LTS_TicksBetweenPulse>
		<LTS_Hediff>BloodLoss</LTS_Hediff>
		<LTS_Severity>-0.005</LTS_Severity>
	  </li>
    </modExtensions>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartBionicBase">
    <defName>Synthmarrow</defName>
    <label>synthmarrow</label>
    <description>A flexible strip housing a matrix of hyperactive, arteficial haematopoietic stem cells, manufactured, maintained and cultivated by mechanites.</description>
    <descriptionHyperlinks><RecipeDef>InstallSynthmarrow</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite MayRequire="ludeon.rimworld.royalty">HealingFactors</researchPrerequisite>
    </recipeMaker>
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallSynthmarrow</defName>
    <label>install synthmarrow</label>
    <description>Install a synthmarrow.</description>
    <descriptionHyperlinks>
      <ThingDef>Synthmarrow</ThingDef>
      <HediffDef>Synthmarrow</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing synthmarrow.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>Synthmarrow</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>Synthmarrow</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>Synthmarrow</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveSynthmarrow</defName>
    <label>remove synthmarrow</label>
    <description>Remove synthmarrow.</description>
    <descriptionHyperlinks>
      <ThingDef>Synthmarrow</ThingDef>
      <HediffDef>Synthmarrow</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing synthmarrow.</jobString>
    <removesHediff>Synthmarrow</removesHediff>
  </RecipeDef>
  
  <!--Synthwomb -->
  
  <HediffDef ParentName="ImplantHediffBase" MayRequire="ludeon.rimworld.biotech">
    <defName>Synthwomb</defName>
	<hediffClass>LTS_Implants.LTS_ChangeHediff</hediffClass>
    <label>synthwomb</label>
    <labelNoun>a synthwomb</labelNoun>
    <description>An installed synthwomb.</description>
    <descriptionHyperlinks><ThingDef>Synthwomb</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>Synthwomb</spawnThingOnRemoved>
    <stages>
      <li>
        <statFactors>
          <Fertility>1.5</Fertility>
        </statFactors>
		<statOffsets>
		  <ChildBirthQualityOffset>0.1</ChildBirthQualityOffset>
        </statOffsets>
      </li>
    </stages>
	<!--<customEffectDescriptions>
		<li>150% pregnancy speed factor</li>
	</customEffectDescriptions>-->
	<modExtensions>
      <li Class="LTS_Implants.LTS_IModExtension">
		<LTS_TicksBetweenPulse>2500</LTS_TicksBetweenPulse>
		<LTS_Hediff>PregnantHuman</LTS_Hediff>
		<LTS_Severity>0.001157</LTS_Severity>
	  </li>
    </modExtensions>
	<tags><li>Womb</li></tags>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartBionicBase" MayRequire="ludeon.rimworld.biotech">
    <defName>Synthwomb</defName>
    <label>synthwomb</label>
    <description>An advanced artificial womb. It can monitor and optimise nutrient level and apply growth stimulators to improve gestation speed, it's articulated construction allows for safer labor and it has a mechanite based sperm sorting system to enhance fertility. It is better than a biological womb in almost every way.</description>
    <descriptionHyperlinks><RecipeDef>InstallSynthwomb</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>Bionics</researchPrerequisite>
    </recipeMaker>
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantBase" MayRequire="ludeon.rimworld.biotech">
    <defName>InstallSynthwomb</defName>
    <label>install synthwomb</label>
    <description>Install a synthwomb.</description>
    <descriptionHyperlinks>
      <ThingDef>Synthwomb</ThingDef>
      <HediffDef>Synthwomb</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing synthwomb.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>Synthwomb</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>Synthwomb</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>Synthwomb</addsHediff>
	<incompatibleWithHediffTags>
      <li>Womb</li>
    </incompatibleWithHediffTags>
	<genderPrerequisite>Female</genderPrerequisite>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase" MayRequire="ludeon.rimworld.biotech">
    <defName>RemoveSynthwomb</defName>
    <label>remove synthwomb</label>
    <description>Remove synthwomb.</description>
    <descriptionHyperlinks>
      <ThingDef>Synthwomb</ThingDef>
      <HediffDef>Synthwomb</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing Synthwomb.</jobString>
    <removesHediff>Synthwomb</removesHediff>
  </RecipeDef>
  
  <!--Archotech Implants -->
  
  <!--psychic levitator -->
  
  <HediffDef ParentName="ImplantHediffBase">
    <defName>PsychicLevitator</defName>
    <label>psychic levitator</label>
    <labelNoun>a psychic levitator</labelNoun>
    <description>An installed psychic levitator implant.</description>
    <descriptionHyperlinks><ThingDef>PsychicLevitator</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>PsychicLevitator</spawnThingOnRemoved>
    <stages>
	  <li>
        <statOffsets>
          <MoveSpeed>0.20</MoveSpeed>
        </statOffsets>
        <statOffsetEffectMultiplier>PsychicSensitivity</statOffsetEffectMultiplier>
		<statFactors>
		  <TrapSpringChance>0</TrapSpringChance>
		</statFactors>
      </li>
    </stages>
	<!--<customEffectDescriptions>
		<li>Colonist will ignore terrain movement costs</li>
	</customEffectDescriptions>-->
	<comps>
	  <li Class="AnimalBehaviours.HediffCompProperties_Floating" MayRequire="oskarpotocki.vanillafactionsexpanded.core"></li>
	</comps>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartArchotechBase">
    <defName>PsychicLevitator</defName>
    <label>psychic levitator</label>
    <description>Gives limited telekenetic ability, allowing the user to hover off the ground to ignore terrain movement costs, avoid triggering traps and move faster than they otherwise would. The effect is proportional to the user's psychic sensitivity.</description>
    <descriptionHyperlinks><RecipeDef>InstallPsychicLevitator</RecipeDef></descriptionHyperlinks>
    <statBases>
      <MarketValue>1000</MarketValue>
      <Mass>0.3</Mass>
    </statBases>
    <thingSetMakerTags>
      <li>RewardStandardCore</li>
    </thingSetMakerTags>
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallPsychicLevitator</defName>
    <label>install psychic levitator</label>
    <description>Install a psychic levitator.</description>
    <descriptionHyperlinks>
      <ThingDef>PsychicLevitator</ThingDef>
      <HediffDef>PsychicLevitator</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing psychic levitator.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>PsychicLevitator</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>PsychicLevitator</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Brain</li>
    </appliedOnFixedBodyParts>
    <addsHediff>PsychicLevitator</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemovePsychicLevitator</defName>
    <label>remove psychic levitator</label>
    <description>Remove psychic levitator.</description>
    <descriptionHyperlinks>
      <ThingDef>PsychicLevitator</ThingDef>
      <HediffDef>PsychicLevitator</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing psychic levitator.</jobString>
    <removesHediff>PsychicLevitator</removesHediff>
  </RecipeDef>
  
  <!-- Psychokenetic shield -->
  
  <HediffDef ParentName="ImplantHediffBase">
    <defName>PsychokeneticShield</defName>
    <label>psychic shield</label>
    <labelNoun>a psychic shield</labelNoun>
    <description>An installed psychic shield implant.</description>
    <descriptionHyperlinks><ThingDef>PsychokeneticShield</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>PsychokeneticShield</spawnThingOnRemoved>
    <stages>
      <li>
        <statOffsets>
          <IncomingDamageFactor>-0.1</IncomingDamageFactor>
        </statOffsets>
        <statOffsetEffectMultiplier>PsychicSensitivity</statOffsetEffectMultiplier>
      </li>
    </stages>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartArchotechBase">
    <defName>PsychokeneticShield</defName>
    <label>psychic shield</label>
    <description>Gives limited telekenetic ability, allowing the user to project a psychokenetic field of selective, repulsive force around themselves to mitigate incoming damage. The effect is proportional to the user's psychic sensitivity.</description>
    <descriptionHyperlinks><RecipeDef>InstallPsychokeneticShield</RecipeDef></descriptionHyperlinks>
    <statBases>
      <MarketValue>1000</MarketValue>
      <Mass>0.3</Mass>
    </statBases>
    <thingSetMakerTags>
      <li>RewardStandardCore</li>
    </thingSetMakerTags>
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallPsychokeneticShield</defName>
    <label>install psychic shield</label>
    <description>Install a psychic shield.</description>
    <descriptionHyperlinks>
      <ThingDef>PsychokeneticShield</ThingDef>
      <HediffDef>PsychokeneticShield</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing psychic shield.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>PsychokeneticShield</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>PsychokeneticShield</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Brain</li>
    </appliedOnFixedBodyParts>
    <addsHediff>PsychokeneticShield</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemovePsychokeneticShield</defName>
    <label>remove psychic shield</label>
    <description>Remove psychic shield.</description>
    <descriptionHyperlinks>
      <ThingDef>PsychokeneticShield</ThingDef>
      <HediffDef>PsychokeneticShield</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing psychic shield.</jobString>
    <removesHediff>PsychokeneticShield</removesHediff>
  </RecipeDef>
  
  <!-- archowomb -->
  
  <HediffDef ParentName="ImplantHediffBase" MayRequire="ludeon.rimworld.biotech">
    <hediffClass>LTS_Implants.LTS_ChangeHediff</hediffClass>
	<defName>Archowomb</defName>
    <label>archowomb</label>
    <labelNoun>an archowomb</labelNoun>
    <description>An installed archowomb.</description>
    <descriptionHyperlinks><ThingDef>Archowomb</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>Archowomb</spawnThingOnRemoved>
	<stages>
      <li>
        <statFactors>
          <Fertility>2</Fertility>
        </statFactors>
		<statOffsets>
		  <ChildBirthQualityOffset>1</ChildBirthQualityOffset>
        </statOffsets>
      </li>
    </stages>
	<modExtensions>
      <li Class="LTS_Implants.LTS_IModExtension">
		<LTS_TicksBetweenPulse>2500</LTS_TicksBetweenPulse>
		<LTS_Hediff>PregnantHuman</LTS_Hediff>
		<LTS_Severity>0.002314</LTS_Severity>
	  </li>
    </modExtensions>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartArchotechBase" MayRequire="ludeon.rimworld.biotech">
    <defName>Archowomb</defName>
    <label>archowomb</label>
    <description>An artificial womb built by an archotech. Its harder to damage than plasteel, and even if damaged, it repairs it's self over time. There has been no record of any miscarriage or maternal death of a mother with an archowomb and children born from one are gestated twice as fast and are said to live long lives and display an uncanny connection to a distant archotech. It's internal workings are a mystery to all human minds.</description>
    <descriptionHyperlinks><RecipeDef>InstallArchowomb</RecipeDef></descriptionHyperlinks>
    <statBases>
      <MarketValue>1000</MarketValue>
      <Mass>0.3</Mass>
    </statBases>
    <thingSetMakerTags>
      <li>RewardStandardCore</li>
    </thingSetMakerTags>
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantBase" MayRequire="ludeon.rimworld.biotech">
    <defName>InstallArchowomb</defName>
    <label>install archowomb</label>
    <description>Install an archowomb.</description>
    <descriptionHyperlinks>
      <ThingDef>Archowomb</ThingDef>
      <HediffDef>Archowomb</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing archowomb.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>Archowomb</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>Archowomb</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>Archowomb</addsHediff>
	<incompatibleWithHediffTags>
      <li>Womb</li>
    </incompatibleWithHediffTags>
	<genderPrerequisite>Female</genderPrerequisite>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase" MayRequire="ludeon.rimworld.biotech">
    <defName>RemoveArchowomb</defName>
    <label>remove archowomb</label>
    <description>Remove archowomb.</description>
    <descriptionHyperlinks>
      <ThingDef>Archowomb</ThingDef>
      <HediffDef>Archowomb</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing archowomb.</jobString>
    <removesHediff>Archowomb</removesHediff>
  </RecipeDef>
  
  <!-- archoborn -->
  
  <HediffDef MayRequire="ludeon.rimworld.biotech">
    <defName>Archoborn</defName>
    <hediffClass>HediffWithComps</hediffClass>
    <label>archoborn</label>
    <description>This person was formed in an archowomb. While this has left no observable physical mark on them, they seem to have some strange quality that makes them more than human.</description>
    <defaultLabelColor>(1,1,1)</defaultLabelColor>
    <scenarioCanAdd>true</scenarioCanAdd>
    <isBad>false</isBad>
    <stages>
      <li>
        <statOffsets>
		  <PsychicSensitivity>1</PsychicSensitivity>
		  <MeditationFocusGain>0.5</MeditationFocusGain>
		  <PsychicEntropyRecoveryRate>0.5</PsychicEntropyRecoveryRate>
		</statOffsets>
		<statFactors>
		  <LifespanFactor>2</LifespanFactor>
		</statFactors>
      </li>
    </stages>
  </HediffDef>
  
  <!--Psychic nullifier-->
  
  <HediffDef ParentName="ImplantHediffBase">
    <defName>PsychicNullifier</defName>
    <label>psychic nullifier</label>
    <labelNoun>a psychic nullifier</labelNoun>
    <description>An installed psychic nullifier implant.</description>
    <descriptionHyperlinks><ThingDef>PsychicNullifier</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>PsychicNullifier</spawnThingOnRemoved>
    <stages>
      <li>
        <statFactors>
          <PsychicSensitivity>0</PsychicSensitivity>
        </statFactors>
      </li>
    </stages>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartArchotechBase">
    <defName>PsychicNullifier</defName>
    <label>psychic nullifier</label>
    <description>This brain implant forms a cerebral membrane with psychically absorptive properties, thus nullifying the impact of psychic waves.</description>
    <descriptionHyperlinks><RecipeDef>InstallPsychicNullifier</RecipeDef></descriptionHyperlinks>
    <statBases>
      <MarketValue>1000</MarketValue>
      <Mass>0.3</Mass>
    </statBases>
    <thingSetMakerTags>
      <li>RewardStandardCore</li>
    </thingSetMakerTags>
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallPsychicNullifier</defName>
    <label>install psychic nullifier</label>
    <description>Install a psychic nullifier.</description>
    <descriptionHyperlinks>
      <ThingDef>PsychicNullifier</ThingDef>
      <HediffDef>PsychicNullifier</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing psychic nullifier.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>PsychicNullifier</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>PsychicNullifier</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Brain</li>
    </appliedOnFixedBodyParts>
    <addsHediff>PsychicNullifier</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemovePsychicNullifier</defName>
    <label>remove psychic nullifier</label>
    <description>Remove psychic nullifier.</description>
    <descriptionHyperlinks>
      <ThingDef>PsychicNullifier</ThingDef>
      <HediffDef>PsychicNullifier</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing psychic nullifier.</jobString>
    <removesHediff>PsychicNullifier</removesHediff>
  </RecipeDef>
  
  <!--Archotech voicebox-->
  
  <HediffDef ParentName="ImplantHediffBase">
    <defName>ArchotechVoicebox</defName>
    <label>archotech voice box</label>
    <labelNoun>a archotech voice box</labelNoun>
    <description>An installed archotech voice box implant.</description>
    <descriptionHyperlinks><ThingDef>ArchotechVoicebox</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>ArchotechVoicebox</spawnThingOnRemoved>
    <stages>
      <li>
        <statOffsets>
          <TradePriceImprovement>0.25</TradePriceImprovement>
          <SocialImpact>0.5</SocialImpact>
          <ArrestSuccessChance>0.5</ArrestSuccessChance>
          <NegotiationAbility>0.5</NegotiationAbility>
          <SuppressionPower MayRequire="Ludeon.RimWorld.Ideology">0.5</SuppressionPower>
		  <ConversionPower MayRequire="Ludeon.RimWorld.Ideology">0.5</ConversionPower>
        </statOffsets>
        <capMods>
          <li>
            <capacity>Talking</capacity>
            <offset>0.5</offset>
          </li>
        </capMods>
      </li>
    </stages>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartArchotechBase">
    <defName>ArchotechVoicebox</defName>
    <label>archotech voice box</label>
    <description>An artificial larynx built by an archotech. It allows the user to speak with a demonic, spine chilling growl, or to sing with a hauntingly beautiful resonance, or to perfectly copy any voice, accent, dialect or other sound they've heard before, or to speak as a choir of many voices. It even includes a subpersona AI that autonomously learns and flawless converts the user's speech into a vast array of languages. Its internal workings are a mystery to all human minds.</description>
    <descriptionHyperlinks><RecipeDef>InstallArchotechVoicebox</RecipeDef></descriptionHyperlinks>
    <statBases>
      <MarketValue>1000</MarketValue>
      <Mass>0.3</Mass>
    </statBases>
    <thingSetMakerTags>
      <li>RewardStandardCore</li>
    </thingSetMakerTags>
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallArchotechVoicebox</defName>
    <label>install archotech voice box</label>
    <description>Install an archotech voice box.</description>
    <descriptionHyperlinks>
      <ThingDef>ArchotechVoicebox</ThingDef>
      <HediffDef>ArchotechVoicebox</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing archotech voice box.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>ArchotechVoicebox</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>ArchotechVoicebox</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Neck</li>
    </appliedOnFixedBodyParts>
    <addsHediff>ArchotechVoicebox</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveArchotechVoicebox</defName>
    <label>remove archotech voice box</label>
    <description>Remove archotech voice box.</description>
    <descriptionHyperlinks>
      <ThingDef>ArchotechVoicebox</ThingDef>
      <HediffDef>ArchotechVoicebox</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing archotech voice box.</jobString>
    <removesHediff>ArchotechVoicebox</removesHediff>
  </RecipeDef>
  
  <!--Spacer/prosthetics-->
  
  <!-- internal climate control -->
  
  <HediffDef ParentName="ImplantHediffBase"> <!-- +10 maximum and -10 minimum comfortable temperature -->
	<!--<hediffClass>RH_Repair.RH_MendImplant</hediffClass>-->
    <defName>InternalClimateControlImplant</defName>
    <label>internal climate control</label>
    <labelNoun>an internal climate control</labelNoun>
    <description>An installed internal climate control.</description>
    <descriptionHyperlinks><ThingDef>InternalClimateControlImplant</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>InternalClimateControlImplant</spawnThingOnRemoved>
	<stages>
      <li>
        <statOffsets>
          <ComfyTemperatureMin>-10</ComfyTemperatureMin>
		  <ComfyTemperatureMax>10</ComfyTemperatureMax>
        </statOffsets>
      </li>
    </stages>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartProstheticMakeableBase">
    <defName>InternalClimateControlImplant</defName>
    <label>internal climate control</label>
    <description>A set of advanced miniature heating and cooling elements able to directly heat or vent heat from the blood stream.</description>
    <descriptionHyperlinks><RecipeDef>InstallInternalClimateControlImplant</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Steel>60</Steel>
      <ComponentIndustrial>4</ComponentIndustrial>
    </costList>
    <recipeMaker>
      <researchPrerequisite MayRequire="ludeon.rimworld.royalty">I_BasicImplants</researchPrerequisite>
    </recipeMaker>
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallInternalClimateControlImplant</defName>
    <label>install internal climate control</label>
    <description>Install an internal climate control.</description>
    <descriptionHyperlinks>
      <ThingDef>InternalClimateControlImplant</ThingDef>
      <HediffDef>InternalClimateControlImplant</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing internal climate control.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>InternalClimateControlImplant</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>InternalClimateControlImplant</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>InternalClimateControlImplant</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveInternalClimateControlImplant</defName>
    <label>remove internal climate control</label>
    <description>Remove internal climate control.</description>
    <descriptionHyperlinks>
      <ThingDef>InternalClimateControlImplant</ThingDef>
      <HediffDef>InternalClimateControlImplant</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing internal climate control.</jobString>
    <removesHediff>InternalClimateControlImplant</removesHediff>
  </RecipeDef>
  
  <!--Cryptosupport implant-->
  
  <HediffDef ParentName="ImplantHediffBase">
    <defName>CryptoWakeImplant</defName>
	<hediffClass>LTS_Implants.LTS_ChangeHediff</hediffClass>
    <label>cryptowake implant</label>
    <labelNoun>a cryptowake implant</labelNoun>
    <description>An installed cryptowake implant.</description>
    <descriptionHyperlinks><ThingDef>CryptoWakeImplant</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>CryptoWakeImplant</spawnThingOnRemoved>
    <modExtensions>
      <li Class="LTS_Implants.LTS_IModExtension">
		<LTS_TicksBetweenPulse>30</LTS_TicksBetweenPulse>
		<LTS_Hediff>CryptosleepSickness</LTS_Hediff>
		<LTS_Severity>-0.1</LTS_Severity>
	  </li>
    </modExtensions>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartProstheticMakeableBase">
    <defName>CryptoWakeImplant</defName>
    <label>cryptowake implant</label>
    <description>An array of advanced pumps and artificial glands placed throughout the body, designed to rapidly tune metabolic levels to normal rates after exiting cryptobiotic stasis.</description>
    <descriptionHyperlinks><RecipeDef>InstallCryptoWakeImplant</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Steel>40</Steel>
      <ComponentIndustrial>6</ComponentIndustrial>
    </costList>
    <recipeMaker>
      <researchPrerequisite MayRequire="ludeon.rimworld.royalty">I_BasicImplants</researchPrerequisite>
    </recipeMaker>
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallCryptoWakeImplant</defName>
    <label>install cryptowake implant</label>
    <description>Install a cryptowake implant.</description>
    <descriptionHyperlinks>
      <ThingDef>CryptoWakeImplant</ThingDef>
      <HediffDef>CryptoWakeImplant</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing cryptowake implant.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>CryptoWakeImplant</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>CryptoWakeImplant</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>CryptoWakeImplant</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveCryptoWakeImplant</defName>
    <label>remove cryptowake implant</label>
    <description>Remove cryptowake implant.</description>
    <descriptionHyperlinks>
      <ThingDef>CryptoWakeImplant</ThingDef>
      <HediffDef>CryptoWakeImplant</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing cryptowake implant.</jobString>
    <removesHediff>CryptoWakeImplant</removesHediff>
  </RecipeDef>
  
  <!-- skeletal bracing -->
  
  <HediffDef ParentName="ImplantHediffBase">
    <defName>SkeletalBracing</defName>
    <label>skeletal bracing</label>
    <labelNoun>a skeletal bracing</labelNoun>
    <description>An installed skeletal bracing.</description>
    <descriptionHyperlinks><ThingDef>SkeletalBracing</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>SkeletalBracing</spawnThingOnRemoved>
	<stages>
      <li>
        <statOffsets>
          <CarryingCapacity>25</CarryingCapacity>
        </statOffsets>
      </li>
    </stages>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartProstheticMakeableBase">
    <defName>SkeletalBracing</defName>
    <label>skeletal bracing</label>
    <description>An artificial, industrial skeleton affixed to the original, with responsive, motorised joints. It is designed to take a lot of the strain of carrying heavy objects off of the body, thus increasing carrying capacity.</description>
    <descriptionHyperlinks><RecipeDef>InstallSkeletalBracing</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Steel>100</Steel>
      <ComponentIndustrial>8</ComponentIndustrial>
    </costList>
    <recipeMaker>
      <researchPrerequisite MayRequire="ludeon.rimworld.royalty">I_BasicImplants</researchPrerequisite>
    </recipeMaker>
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallSkeletalBracing</defName>
    <label>install skeletal bracing</label>
    <description>Install a skeletal bracing.</description>
    <descriptionHyperlinks>
      <ThingDef>SkeletalBracing</ThingDef>
      <HediffDef>SkeletalBracing</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing skeletal bracing.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>SkeletalBracing</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>SkeletalBracing</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>SkeletalBracing</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveSkeletalBracing</defName>
    <label>remove skeletal bracing</label>
    <description>Remove skeletal bracing.</description>
    <descriptionHyperlinks>
      <ThingDef>SkeletalBracing</ThingDef>
      <HediffDef>SkeletalBracing</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing skeletal bracing.</jobString>
    <removesHediff>SkeletalBracing</removesHediff>
  </RecipeDef>
  
  <!--Fertility enhancer/regulator-->
  
  <!--<HediffDef ParentName="ImplantHediffBase"> 125% melee damage factor, 150% or +50 carrying capacity and map carry capacity, mutually exclusive with aesthetic shaper(?)
    <defName>StrengthEnhancer</defName>
    <label>strength enhancer</label>
    <labelNoun>a strength enhancer</labelNoun>
    <description>An installed strength enhancer.</description>
    <descriptionHyperlinks><ThingDef>StrengthEnhancer</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>StrengthEnhancer</spawnThingOnRemoved>
    <stages>
      <li>
        <statOffsets>
          <CarryingCapacity>25</CarryingCapacity>
        </statOffsets>
		<statFactors>
		  <MeleeDamageFactor>1.25</MeleeDamageFactor>
		</statFactors>
      </li>
    </stages>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartBionicBase">
    <defName>StrengthEnhancer</defName>
    <label>strength enhancer</label>
    <description>A sophisticated package of hormonal and mechanite influences shapes the muscles and fat on the body, adding additional muscle mass where needed to achieve greater physical capabilities.</description>
    <descriptionHyperlinks><RecipeDef>InstallStrengthEnhancer</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>3</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite MayRequire="ludeon.rimworld.royalty">FleshShaping</researchPrerequisite>
    </recipeMaker>
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallStrengthEnhancer</defName>
    <label>install strength enhancer</label>
    <description>Install a strength enhancer.</description>
    <descriptionHyperlinks>
      <ThingDef>StrengthEnhancer</ThingDef>
      <HediffDef>StrengthEnhancer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing strength enhancer.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>StrengthEnhancer</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>StrengthEnhancer</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>StrengthEnhancer</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveStrengthEnhancer</defName>
    <label>remove strength enhancer</label>
    <description>Remove strength enhancer.</description>
    <descriptionHyperlinks>
      <ThingDef>StrengthEnhancer</ThingDef>
      <HediffDef>StrengthEnhancer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing strength enhancer.</jobString>
    <removesHediff>StrengthEnhancer</removesHediff>
  </RecipeDef>-->
  
  <!--Neurostreamer-->
  
  <!--Sangophage bionics-->
  
  <!--Sangophage base--> <!--Hemogenic Deathrest-->
  
  <ThingCategoryDef MayRequire="ludeon.rimworld.biotech">
		<defName>LTS_BodyPartsSangophage</defName>
		<label>sangophage</label>
		<parent>BodyParts</parent>
	</ThingCategoryDef>
  
  <ThingDef Name="BodyPartSangophageBase" ParentName="BodyPartBase" Abstract="True" MayRequire="ludeon.rimworld.biotech">
    <techLevel>Spacer</techLevel>
    <thingCategories>
      <li>LTS_BodyPartsSangophage</li>
    </thingCategories>
    <graphicData>
      <texPath>Things/Item/Health/HealthItem</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>0.80</drawSize>
      <color>(118,64,57)</color>
    </graphicData>
    <tradeTags>
      <li>Bionic</li>
    </tradeTags>
    <techHediffsTags>
      <li>Advanced</li>
    </techHediffsTags>
    <statBases>
      <WorkToMake>26000</WorkToMake>
    </statBases>
    <recipeMaker>
      <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Smith</effectWorking>
      <soundWorking>Recipe_Smith</soundWorking>
      <unfinishedThingDef>UnfinishedHealthItemBionic</unfinishedThingDef>
      <skillRequirements>
        <Crafting>8</Crafting>
      </skillRequirements>
      <researchPrerequisite>I_SanguophageImplants</researchPrerequisite>
      <recipeUsers>
        <li>FabricationBench</li>
      </recipeUsers>
      <displayPriority>300</displayPriority>
    </recipeMaker>
  </ThingDef>
  
  <RecipeDef Name="SurgeryInstallImplantSangophageBase" ParentName="SurgeryInstallImplantBase" Abstract="True" MayRequire="ludeon.rimworld.biotech">
    <workerClass>LTS_Implants.Recipe_InstallImplantNeedingGene</workerClass>
  </RecipeDef>
  
  <!--hemo-fangs-->
  
  <HediffDef ParentName="ImplantHediffBase" MayRequire="ludeon.rimworld.biotech">
    <defName>HemoFangs</defName>
    <label>hemo-fangs</label>
    <labelNoun>a set of hemo-fangs</labelNoun>
    <description>An installed set of hemo-fangs.</description>
    <descriptionHyperlinks><ThingDef>HemoFangs</ThingDef></descriptionHyperlinks>
    <addedPartProps>
      <solid>true</solid>
    </addedPartProps>
    <comps>
      <li Class="HediffCompProperties_VerbGiver">
        <tools>
          <li>
            <label>hemo-fangs</label>
            <capacities>
              <li>HemoBite</li>
            </capacities>
            <power>15</power>
            <cooldownTime>2</cooldownTime>
            <alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
          </li>
        </tools>
      </li>
    </comps>
    <spawnThingOnRemoved>HemoFangs</spawnThingOnRemoved>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>

  <ThingDef ParentName="BodyPartSangophageBase" MayRequire="ludeon.rimworld.biotech">
    <defName>HemoFangs</defName>
    <label>hemo-fangs</label>
	<description>A pair of retractable, spring-loaded plasteel canines, connected to a vaccum pump. The user can bite an enemy, extend the fangs, and suck the blood from the target, converting it directly into a moderate amount of hemogen.\n\nCan only be installed on pawns with the hemogenic gene.<!-- Grants no benefit to a pawn without this gene.--></description>
    <descriptionHyperlinks><RecipeDef>InstallHemoFangs</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
	  <HemogenPack>5</HemogenPack>
    </costList>
    <violentTechHediff>true</violentTechHediff>
    <techHediffsTags>
      <li>AdvancedWeapon</li>
    </techHediffsTags>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantSangophageBase" MayRequire="ludeon.rimworld.biotech">
    <defName>InstallHemoFangs</defName>
    <label>install hemo-fangs</label>
    <description>Install hemo-fangs.</description>
    <descriptionHyperlinks>
      <ThingDef>HemoFangs</ThingDef>
      <HediffDef>HemoFangs</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing hemo-fangs.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>HemoFangs</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>HemoFangs</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyPartGroups>
      <li>Teeth</li>
    </appliedOnFixedBodyPartGroups>
    <addsHediff>HemoFangs</addsHediff>
	<modExtensions>
      <li Class="LTS_Implants.LTS_IModExtension">
		<LTS_Gene>Hemogenic</LTS_Gene>
	  </li>
    </modExtensions>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase" MayRequire="ludeon.rimworld.biotech">
    <defName>RemoveHemoFangs</defName>
    <label>remove hemo-fangs</label>
    <description>Remove hemo-fangs.</description>
    <descriptionHyperlinks>
      <ThingDef>HemoFangs</ThingDef>
      <HediffDef>HemoFangs</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing hemo-fangs.</jobString>
    <removesHediff>HemoFangs</removesHediff>
  </RecipeDef>
  
  <!--Hemogenic microcompressor-->
  
  <HediffDef ParentName="ImplantHediffBase" MayRequire="ludeon.rimworld.biotech">
    <defName>HemogenicMicrocompressor</defName>
    <label>hemogenic microcompressor</label>
    <labelNoun>a hemogenic microcompressor</labelNoun>
    <description>An installed hemogenic microcompressor.</description>
    <descriptionHyperlinks><ThingDef>HemogenicMicrocompressor</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>HemogenicMicrocompressor</spawnThingOnRemoved>
	<stages>
      <li>
        <statOffsets>
          <BaseHemogenOffset>0.5</BaseHemogenOffset>
        </statOffsets>
      </li>
    </stages>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartSangophageBase" MayRequire="ludeon.rimworld.biotech">
    <defName>HemogenicMicrocompressor</defName>
    <label>hemogenic microcompressor</label>
    <description>An advanced biorefinery that folds and compresses hemogen into a denser state, allowing a sangophage to store more within their body.\n\nCan only be installed on pawns with the hemogenic gene.</description>
    <descriptionHyperlinks><RecipeDef>InstallHemogenicMicrocompressor</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
	  <HemogenPack>5</HemogenPack>
    </costList>
    <!--<recipeMaker>
      <researchPrerequisite>RH_RepairHubsResearch</researchPrerequisite>
    </recipeMaker>-->
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantSangophageBase" MayRequire="ludeon.rimworld.biotech">
    <defName>InstallHemogenicMicrocompressor</defName>
    <label>install hemogenic microcompressor</label>
    <description>Install a hemogenic microcompressor.</description>
    <descriptionHyperlinks>
      <ThingDef>HemogenicMicrocompressor</ThingDef>
      <HediffDef>HemogenicMicrocompressor</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing hemogenic microcompressor.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>HemogenicMicrocompressor</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>HemogenicMicrocompressor</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>HemogenicMicrocompressor</addsHediff>
	<modExtensions>
      <li Class="LTS_Implants.LTS_IModExtension">
		<LTS_Gene>Hemogenic</LTS_Gene>
		<LTS_HemogenMaxOffset>0.5</LTS_HemogenMaxOffset>
	  </li>
    </modExtensions>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase" MayRequire="ludeon.rimworld.biotech">
	<workerClass>LTS_Implants.Recipe_RemoveImplantWithMaxHemogenEffect</workerClass>
    <defName>RemoveHemogenicMicrocompressor</defName>
    <label>remove hemogenic microcompressor</label>
    <description>Remove hemogenic microcompressor.</description>
    <descriptionHyperlinks>
      <ThingDef>HemogenicMicrocompressor</ThingDef>
      <HediffDef>HemogenicMicrocompressor</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing hemogenic microcompressor.</jobString>
    <removesHediff>HemogenicMicrocompressor</removesHediff>
	<modExtensions>
      <li Class="LTS_Implants.LTS_IModExtension">
		<LTS_HemogenMaxOffset>-0.5</LTS_HemogenMaxOffset>
	  </li>
    </modExtensions>
  </RecipeDef>
  
  <!--Hemogenic activator-->
  
  <HediffDef ParentName="ImplantHediffBase" MayRequire="ludeon.rimworld.biotech">
    <defName>HemogenicActivator</defName>
    <label>hemogenic activator</label>
    <labelNoun>a hemogenic activator</labelNoun>
    <description>An installed hemogenic activator.</description>
    <descriptionHyperlinks><ThingDef>HemogenicActivator</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>HemogenicActivator</spawnThingOnRemoved>
    <stages>
      <li>
        <statOffsets>
          <HemogenGainFactor>0.5</HemogenGainFactor>
        </statOffsets>
      </li>
    </stages>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartSangophageBase" MayRequire="ludeon.rimworld.biotech">
    <defName>HemogenicActivator</defName>
    <label>hemogenic activator</label>
    <description>An improved set of artificial hemogen glands that allow a sangophage to more efficiently convert blood into hemogen.\n\nCan only be installed on pawns with the hemogenic gene.</description>
    <descriptionHyperlinks><RecipeDef>InstallHemogenicActivator</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
	  <HemogenPack>5</HemogenPack>
    </costList>
    <!--<recipeMaker>
      <researchPrerequisite>RH_RepairHubsResearch</researchPrerequisite>
    </recipeMaker>-->
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantSangophageBase" MayRequire="ludeon.rimworld.biotech">
    <defName>InstallHemogenicActivator</defName>
    <label>install hemogenic activator</label>
    <description>Install a hemogenic activator.</description>
    <descriptionHyperlinks>
      <ThingDef>HemogenicActivator</ThingDef>
      <HediffDef>HemogenicActivator</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing hemogenic activator.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>HemogenicActivator</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>HemogenicActivator</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>HemogenicActivator</addsHediff>
	<modExtensions>
      <li Class="LTS_Implants.LTS_IModExtension">
		<LTS_Gene>Hemogenic</LTS_Gene>
	  </li>
    </modExtensions>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase" MayRequire="ludeon.rimworld.biotech">
    <defName>RemoveHemogenicActivator</defName>
    <label>remove hemogenic activator</label>
    <description>Remove hemogenic activator.</description>
    <descriptionHyperlinks>
      <ThingDef>HemogenicActivator</ThingDef>
      <HediffDef>HemogenicActivator</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing hemogenic activator.</jobString>
    <removesHediff>HemogenicActivator</removesHediff>
  </RecipeDef>
  
  <!--Deathrest capacitor-->
  
  <HediffDef ParentName="ImplantHediffBase" MayRequire="ludeon.rimworld.biotech">
    <defName>DeathrestCapacitor</defName>
    <label>deathrest capacitor</label>
    <labelNoun>a deathrest capacitor</labelNoun>
    <description>An installed deathrest capacitor.</description>
    <descriptionHyperlinks><ThingDef>DeathrestCapacitor</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>DeathrestCapacitor</spawnThingOnRemoved>
	<stages>
      <li>
        <statFactors>
          <DeathrestIntervalFactor>1000</DeathrestIntervalFactor> <!-- was 1.2-->
        </statFactors>
      </li>
    </stages>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartSangophageBase" MayRequire="ludeon.rimworld.biotech">
    <defName>DeathrestCapacitor</defName>
    <label>deathrest capacitor</label>
    <description>Releases a constant supply of saguine chemicals and specialised mechanites that slow down deathrest degredation.\n\nCan only be installed on pawns with the deathrest gene.</description>
    <descriptionHyperlinks><RecipeDef>InstallDeathrestCapacitor</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
	  <HemogenPack>5</HemogenPack>
    </costList>
    <!--<recipeMaker>
      <researchPrerequisite>RH_RepairHubsResearch</researchPrerequisite>
    </recipeMaker>-->
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantSangophageBase" MayRequire="ludeon.rimworld.biotech">
    <defName>InstallDeathrestCapacitor</defName>
    <label>install deathrest capacitor</label>
    <description>Install a deathrest capacitor.</description>
    <descriptionHyperlinks>
      <ThingDef>DeathrestCapacitor</ThingDef>
      <HediffDef>DeathrestCapacitor</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing deathrest capacitor.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>DeathrestCapacitor</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>DeathrestCapacitor</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>DeathrestCapacitor</addsHediff>
	<modExtensions>
      <li Class="LTS_Implants.LTS_IModExtension">
		<LTS_Gene>Deathrest</LTS_Gene>
	  </li>
    </modExtensions>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase" MayRequire="ludeon.rimworld.biotech">
    <defName>RemoveDeathrestCapacitor</defName>
    <label>remove deathrest capacitor</label>
    <description>Remove deathrest capacitor.</description>
    <descriptionHyperlinks>
      <ThingDef>DeathrestCapacitor</ThingDef>
      <HediffDef>DeathrestCapacitor</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing deathrest capacitor.</jobString>
    <removesHediff>DeathrestCapacitor</removesHediff>
  </RecipeDef>
  
  <!--Deathrest Apparatus-->
  
  <HediffDef ParentName="ImplantHediffBase" MayRequire="ludeon.rimworld.biotech">
    <defName>DeathrestApparatus</defName>
    <label>deathrest apparatus</label>
    <labelNoun>a deathrest apparatus</labelNoun>
    <description>An installed deathrest apparatus.</description>
    <descriptionHyperlinks><ThingDef>DeathrestApparatus</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>DeathrestApparatus</spawnThingOnRemoved>
	<stages>
      <li>
        <statFactors>
          <DeathrestEffectivenessFactor>1.2</DeathrestEffectivenessFactor>
        </statFactors>
      </li>
    </stages>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <ThingDef ParentName="BodyPartSangophageBase" MayRequire="ludeon.rimworld.biotech">
    <defName>DeathrestApparatus</defName>
    <label>deathrest apparatus</label>
    <description>A artificial secondary vascular system that unseals during deathrest, vastly improving the rate of hemogenic circulation and deathrest regeneration.\n\nCan only be installed on pawns with the deathrest gene.</description>
    <descriptionHyperlinks><RecipeDef>InstallDeathrestApparatus</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
	  <HemogenPack>5</HemogenPack>
    </costList>
    <!--<recipeMaker>
      <researchPrerequisite>RH_RepairHubsResearch</researchPrerequisite>
    </recipeMaker>-->
  </ThingDef>
  
  <RecipeDef ParentName="SurgeryInstallImplantSangophageBase" MayRequire="ludeon.rimworld.biotech">
    <defName>InstallDeathrestApparatus</defName>
    <label>install deathrest apparatus</label>
    <description>Install a deathrest apparatus.</description>
    <descriptionHyperlinks>
      <ThingDef>DeathrestApparatus</ThingDef>
      <HediffDef>DeathrestApparatus</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing deathrest apparatus.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>DeathrestApparatus</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>DeathrestApparatus</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>DeathrestApparatus</addsHediff>
	<modExtensions>
      <li Class="LTS_Implants.LTS_IModExtension">
		<LTS_Gene>Deathrest</LTS_Gene>
	  </li>
    </modExtensions>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase" MayRequire="ludeon.rimworld.biotech">
    <defName>RemoveDeathrestApparatus</defName>
    <label>remove deathrest apparatus</label>
    <description>Remove deathrest apparatus.</description>
    <descriptionHyperlinks>
      <ThingDef>DeathrestApparatus</ThingDef>
      <HediffDef>DeathrestApparatus</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing deathrest apparatus.</jobString>
    <removesHediff>DeathrestApparatus</removesHediff>
  </RecipeDef>

  <!--Mechinator implants-->

  <!--Signal Booster-->

  <ThingDef Abstract="True" Name="SignalBoosterBase" ParentName="MechanitorImplantCraftableBase" MayRequire="ludeon.rimworld.biotech">
    <descriptionHyperlinks><HediffDef>SignalBoosterImplant</HediffDef></descriptionHyperlinks>
    <statBases>
      <MaxInstallCount>3</MaxInstallCount>
    </statBases>
  </ThingDef>

  <ThingDef ParentName="SignalBoosterBase" MayRequire="ludeon.rimworld.biotech">
    <defName>SignalBooster</defName>
    <label>signal booster (standard)</label>
    <description>A neural implant which gives a mechanitor 3 additional bandwidth. Additionally, the signal booster increases the signal radius of the mechanitor by 3 tiles.\n\nThis standard-tier signal booster can only increase the bandwidth by up to 9. To go higher, a higher-tier signal booster implant must be used.\n\nIt can be self-installed without surgery.\n\nThis implant can be installed up to 3 times to increase its effect.</description>
    <costList>
      <SignalChip>1</SignalChip>
      <ComponentIndustrial>4</ComponentIndustrial>
    </costList>
    <recipeMaker>
      <researchPrerequisite>StandardMechtech</researchPrerequisite>
    </recipeMaker>
    <comps>
      <li Class="CompProperties_Usable">
        <compClass>CompUsableImplant</compClass>
        <useJob>UseItem</useJob>
        <useLabel>Implant booster</useLabel>
        <userMustHaveHediff>MechlinkImplant</userMustHaveHediff>
      </li>
      <li Class="CompProperties_UseEffectInstallImplant">
        <hediffDef>SignalBoosterImplant</hediffDef>
        <bodyPart>Brain</bodyPart>
        <canUpgrade>true</canUpgrade>
        <maxSeverity>3</maxSeverity>
      </li>
    </comps>
  </ThingDef>
  
  <ThingDef ParentName="SignalBoosterBase" MayRequire="ludeon.rimworld.biotech">
    <defName>SignalBoosterHigh</defName>
    <label>signal booster (high)</label>
    <description>A neural implant which gives a mechanitor 3 additional bandwidth. Additionally, the signal booster increases the signal radius of the mechanitor by 3 tiles.\n\nThis high-tier signal booster can only increase the bandwidth by up to 18. To go higher, a higher-tier signal booster implant must be used.\n\nIt can be self-installed without surgery.\n\nThis implant can be installed up to 3 times to increase its effect.</description>
    <costList>
      <PowerfocusChip>1</PowerfocusChip>
      <ComponentIndustrial>3</ComponentIndustrial>
      <ComponentSpacer>3</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>HighMechtech</researchPrerequisite>
    </recipeMaker>
    <comps>
      <li Class="CompProperties_Usable">
        <compClass>CompUsableImplant</compClass>
        <useJob>UseItem</useJob>
        <useLabel>Implant high booster</useLabel>
        <userMustHaveHediff>MechlinkImplant</userMustHaveHediff>
      </li>
      <li Class="CompProperties_UseEffectInstallImplant">
        <hediffDef>SignalBoosterImplant</hediffDef>
        <bodyPart>Brain</bodyPart>
        <canUpgrade>true</canUpgrade>
		<requiresExistingHediff>true</requiresExistingHediff>
        <minSeverity>3</minSeverity>
		<maxSeverity>6</maxSeverity>
      </li>
    </comps>
  </ThingDef>
  
  <ThingDef ParentName="SignalBoosterBase" MayRequire="ludeon.rimworld.biotech">
    <defName>SignalBoosterUltra</defName>
    <label>signal booster (ultra)</label>
    <description>A neural implant which gives a mechanitor 3 additional bandwidth. Additionally, the signal booster increases the signal radius of the mechanitor by 3 tiles.\n\nThis ultra-tier signal booster can increase the bandwidth by up to 27.\n\nIt can be self-installed without surgery.\n\nThis implant can be installed up to 3 times to increase its effect.</description>
    <costList>
      <NanostructuringChip>1</NanostructuringChip>
      <ComponentSpacer>6</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>UltraMechtech</researchPrerequisite>
    </recipeMaker>
    <comps>
      <li Class="CompProperties_Usable">
        <compClass>CompUsableImplant</compClass>
        <useJob>UseItem</useJob>
        <useLabel>Implant ultra booster</useLabel>
        <userMustHaveHediff>MechlinkImplant</userMustHaveHediff>
      </li>
      <li Class="CompProperties_UseEffectInstallImplant">
        <hediffDef>SignalBoosterImplant</hediffDef>
        <bodyPart>Brain</bodyPart>
        <canUpgrade>true</canUpgrade>
        <requiresExistingHediff>true</requiresExistingHediff>
        <minSeverity>6</minSeverity>
      </li>
    </comps>
  </ThingDef>

  <HediffDef MayRequire="ludeon.rimworld.biotech">
    <defName>SignalBoosterImplant</defName>
    <hediffClass>Hediff_Level</hediffClass>
    <descriptionHyperlinks><ThingDef>SignalBooster</ThingDef></descriptionHyperlinks>
    <label>signal booster</label>
    <description>An implant which increases a mechanitor's bandwidth and signal radius.\n\nThis implant can be installed up to 9 times to increase its effect.</description>
    <defaultLabelColor>(0.6, 0.6, 1.0)</defaultLabelColor>
    <isBad>false</isBad>
    <priceImpact>true</priceImpact>
    <initialSeverity>1</initialSeverity> <!-- Severity is bound to level of implant -->
    <minSeverity>0</minSeverity>
    <maxSeverity>9</maxSeverity>
    <keepOnBodyPartRestoration>True</keepOnBodyPartRestoration>
    <levelIsQuantity>true</levelIsQuantity>
    <stages>
      <li>
        <minSeverity>1</minSeverity>
        <statOffsets>
          <MechBandwidth>3</MechBandwidth>
		  <MechRemoteControlDistanceOffset>2</MechRemoteControlDistanceOffset>
        </statOffsets>
      </li>
      <li>
        <minSeverity>2</minSeverity>
        <statOffsets>
          <MechBandwidth>6</MechBandwidth>
		  <MechRemoteControlDistanceOffset>3</MechRemoteControlDistanceOffset>
        </statOffsets>
      </li>
      <li>
        <minSeverity>3</minSeverity>
        <statOffsets>
          <MechBandwidth>9</MechBandwidth>
		  <MechRemoteControlDistanceOffset>9</MechRemoteControlDistanceOffset>
        </statOffsets>
      </li>
      <li>
        <minSeverity>4</minSeverity>
        <statOffsets>
          <MechBandwidth>12</MechBandwidth>
		  <MechRemoteControlDistanceOffset>12</MechRemoteControlDistanceOffset>
        </statOffsets>
      </li>
      <li>
        <minSeverity>5</minSeverity>
        <statOffsets>
          <MechBandwidth>15</MechBandwidth>
		  <MechRemoteControlDistanceOffset>15</MechRemoteControlDistanceOffset>
        </statOffsets>
      </li>
      <li>
        <minSeverity>6</minSeverity>
        <statOffsets>
          <MechBandwidth>18</MechBandwidth>
		  <MechRemoteControlDistanceOffset>18</MechRemoteControlDistanceOffset>
        </statOffsets>
      </li>
	  <li>
        <minSeverity>7</minSeverity>
        <statOffsets>
          <MechBandwidth>21</MechBandwidth>
		  <MechRemoteControlDistanceOffset>21</MechRemoteControlDistanceOffset>
        </statOffsets>
      </li>
      <li>
        <minSeverity>8</minSeverity>
        <statOffsets>
          <MechBandwidth>24</MechBandwidth>
		  <MechRemoteControlDistanceOffset>24</MechRemoteControlDistanceOffset>
        </statOffsets>
      </li>
      <li>
        <minSeverity>9</minSeverity>
        <statOffsets>
          <MechBandwidth>27</MechBandwidth>
		  <MechRemoteControlDistanceOffset>27</MechRemoteControlDistanceOffset>
        </statOffsets>
      </li>
    </stages>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <!--Warprogrammer Interface-->

  <ThingDef ParentName="ControlSublinkBase" MayRequire="ludeon.rimworld.biotech">
    <defName>WarprogrammerInterface</defName>
    <label>warprogrammer interface</label>
    <description>A neural implant which allows for the uploading of specialised tactical protocols to any mechanoids controlled by the mechanitor. The bonuses granted to mechs melee and ranged abilities further scale with the mechanitor's own intellectual and melee/shooting skill.\n\nIt can be self-installed without surgery.\n\nThis implant can be installed up to 3 times to increase its effect.</description>
    <costList>
      <NanostructuringChip>1</NanostructuringChip>
      <ComponentSpacer>6</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>UltraMechtech</researchPrerequisite>
    </recipeMaker>
    <comps>
      <li Class="CompProperties_Usable">
        <compClass>CompUsableImplant</compClass>
        <useJob>UseItem</useJob>
        <useLabel>Implant warprogrammer interface</useLabel>
        <userMustHaveHediff>MechlinkImplant</userMustHaveHediff>
      </li>
      <li Class="CompProperties_UseEffectInstallImplant">
        <hediffDef>WarprogrammerInterfaceImplant</hediffDef>
        <bodyPart>Brain</bodyPart>
        <canUpgrade>true</canUpgrade>
        <maxSeverity>3</maxSeverity>
      </li>
    </comps>
  </ThingDef>

  <HediffDef MayRequire="ludeon.rimworld.biotech">
    <defName>WarprogrammerInterfaceImplant</defName>
    <hediffClass>Hediff_Level</hediffClass>
    <descriptionHyperlinks><ThingDef>WarprogrammerInterface</ThingDef></descriptionHyperlinks>
    <label>warprogrammer interface</label>
    <description>An implant which increases the melee and ranged abilities of a mechanitor's mechs, further scaling with the mechanitor's own intellectual and melee/shooting skill.\n\nThis implant can be installed up to 3 times to increase its effect.</description>
    <defaultLabelColor>(0.6, 0.6, 1.0)</defaultLabelColor>
    <isBad>false</isBad>
    <priceImpact>true</priceImpact>
    <initialSeverity>1</initialSeverity> <!-- Severity is bound to level of implant -->
    <minSeverity>0</minSeverity>
    <maxSeverity>3</maxSeverity>
    <keepOnBodyPartRestoration>True</keepOnBodyPartRestoration>
    <levelIsQuantity>true</levelIsQuantity>
    <stages>
      <li>
        <minSeverity>1</minSeverity>
        <statOffsets>
          <ShootingAccuracyPawnOffsetMech>1</ShootingAccuracyPawnOffsetMech>
		  <AimingDelayFactorOffsetMech>-0.1</AimingDelayFactorOffsetMech>
		  <MeleeHitChanceOffsetMech>1</MeleeHitChanceOffsetMech>
		  <MeleeDodgeChanceOffsetMech>1</MeleeDodgeChanceOffsetMech>
        </statOffsets>
      </li>
      <li>
        <minSeverity>2</minSeverity>
        <statOffsets>
          <ShootingAccuracyPawnOffsetMech>2</ShootingAccuracyPawnOffsetMech>
		  <AimingDelayFactorOffsetMech>-0.2</AimingDelayFactorOffsetMech>
		  <MeleeHitChanceOffsetMech>2</MeleeHitChanceOffsetMech>
		  <MeleeDodgeChanceOffsetMech>2</MeleeDodgeChanceOffsetMech>
        </statOffsets>
      </li>
      <li>
        <minSeverity>3</minSeverity>
        <statOffsets>
          <ShootingAccuracyPawnOffsetMech>3</ShootingAccuracyPawnOffsetMech>
		  <AimingDelayFactorOffsetMech>-0.3</AimingDelayFactorOffsetMech>
		  <MeleeHitChanceOffsetMech>3</MeleeHitChanceOffsetMech>
		  <MeleeDodgeChanceOffsetMech>3</MeleeDodgeChanceOffsetMech>
        </statOffsets>
      </li>
	</stages>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>
  
  <!--Mechhive satellite uplink -->
  
  <ThingDef ParentName="MechanitorImplantCraftableBase" MayRequire="ludeon.rimworld.biotech,ludeon.rimworld.royalty">
    <defName>MechhiveSatelliteUplink</defName>
    <label>mechhive satellite uplink</label>
    <description>A neural implant which allows the mechanitor to psychically seize an overhead orbital platform, causing it to drop a mechanoid combat cluster at the targeted point. The cluster may include any mixture of mechanoids and mech defense structures. the mech will indiscriminately attack any human they see - including the one that summoned them. Due to the prodigeous amount of power this takes, the psychic centres of the mechanitors brain will be overloaded, causing them to fall into a 24 hour psychic coma.\n\nThis implant can be self-installed without surgery.\n\nThis implant can be installed up to 3 times to decrease it's cooldown time.</description>
    <descriptionHyperlinks><HediffDef>RemoteRepairerImplant</HediffDef></descriptionHyperlinks>
    <costList>
      <PowerfocusChip>1</PowerfocusChip>
      <ComponentIndustrial>6</ComponentIndustrial>
    </costList>
    <statBases>
      <MaxInstallCount>3</MaxInstallCount>
    </statBases>
    <recipeMaker>
      <researchPrerequisite>HighMechtech</researchPrerequisite>
    </recipeMaker>
    <comps>
      <li Class="CompProperties_Usable">
        <compClass>CompUsableImplant</compClass>
        <useJob>UseItem</useJob>
        <useLabel>Implant {0_label}</useLabel>
        <userMustHaveHediff>MechlinkImplant</userMustHaveHediff>
      </li>
      <li Class="CompProperties_UseEffectInstallImplant">
        <hediffDef>MechhiveSatelliteUplinkImplant</hediffDef>
        <bodyPart>Brain</bodyPart>
        <canUpgrade>true</canUpgrade>
      </li>
    </comps>
  </ThingDef>

  <HediffDef MayRequire="ludeon.rimworld.biotech,ludeon.rimworld.royalty">
    <defName>MechhiveSatelliteUplinkImplant</defName>
    <hediffClass>Hediff_Level</hediffClass>
    <descriptionHyperlinks><ThingDef>MechhiveSatelliteUplink</ThingDef></descriptionHyperlinks>
    <label>mechhive satellite uplink</label>
    <description>A neural implant which allows the mechanitor to call in a hostile mech cluster. The user psychically seize an overhead orbital platform, overloading their psychic centers in the process and falling into a 24 hour coma.\n\nThis implant can be installed up to 3 times to decrease it's cooldown.</description>
    <descriptionShort>An implant which allows the user to call in a hostile mech cluster. This can be installed up to 3 times.</descriptionShort>
    <defaultLabelColor>(0.6, 0.6, 1.0)</defaultLabelColor>
    <isBad>false</isBad>
    <priceImpact>true</priceImpact>
    <initialSeverity>1</initialSeverity>
    <minSeverity>0</minSeverity>
    <maxSeverity>3</maxSeverity>
    <keepOnBodyPartRestoration>True</keepOnBodyPartRestoration>
    <levelIsQuantity>true</levelIsQuantity>
    <comps>
      <li Class="HediffCompProperties_GiveAbility">
        <abilityDefs>
          <li>MechhiveSatelliteUplink</li>
        </abilityDefs>
      </li>
    </comps>
    <stages>
      <li>
        <minSeverity>1</minSeverity> <!--Cooldown of 60(1 years)/45/30 days? 3600000/3600000/1800000 ticks. maybe 3600000 should be the stat and cooldown multiplier stats should be 100%, 75%, 50%MechhiveSatelliteUplinkCooldownFactor-->
		<statFactors>
          <MechhiveSatelliteUplinkCooldownFactor>1</MechhiveSatelliteUplinkCooldownFactor>
        </statFactors>
      </li>
      <li>
        <minSeverity>2</minSeverity>
		<statFactors>
          <MechhiveSatelliteUplinkCooldownFactor>0.75</MechhiveSatelliteUplinkCooldownFactor>
        </statFactors>
      </li>
      <li>
        <minSeverity>3</minSeverity>
		<statFactors>
          <MechhiveSatelliteUplinkCooldownFactor>0.5</MechhiveSatelliteUplinkCooldownFactor>
        </statFactors>
      </li>
    </stages>
	<duplicationAllowed>false</duplicationAllowed>
  </HediffDef>

  <AbilityDef MayRequire="ludeon.rimworld.biotech,ludeon.rimworld.royalty">
    <defName>MechhiveSatelliteUplink</defName>
	<abilityClass>Ability</abilityClass>
	
	<!--<abilityClass>LTS_Implants.AbilityWithCooldownMultiplier</abilityClass>
	<abilityClass>Ability</abilityClass>-->
    <label>provoke mech cluster</label>
    <description>psychically seize an overhead orbital platform, causing it to drop a mechanoid combat cluster at the targeted point. The cluster may include any mixture of mechanoids and mech defense structures. the mech will indiscriminately attack any human they see - including the one that summoned them. Due to the prodigeous amount of power this takes, the psychic centres of the mechanitors brain will be overloaded, causing them to fall into a 24 hour psychic coma.</description>
    <iconPath>UI/MechhiveSatelliteUplink</iconPath>
    <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
    <showPsycastEffects>False</showPsycastEffects>
    <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
    <hotKey>Misc12</hotKey>
    <uiOrder>3</uiOrder>
	<statBases>
      <Ability_Duration>1000</Ability_Duration> <!--I don't know what this is measured in but seemingly 1/1000s of a day-->
    </statBases>
	<comps>
	  <li Class="CompProperties_AbilityGiveHediff">
        <compClass>CompAbilityEffect_GiveHediff</compClass>
        <hediffDef>PsychicComa</hediffDef>
		<onlyBrain>True</onlyBrain>
        <onlyApplyToSelf>True</onlyApplyToSelf>
      </li>
	  <li Class="LTS_Implants.CompProperties_AbilityMechCluster">
        <compClass>LTS_Implants.CompAbilityEffect_MechCluster</compClass>
		<displayRadius>23</displayRadius>
        <clamorType>Ability</clamorType>
        <clamorRadius>15</clamorRadius>
      </li>
    </comps>
	<verbProperties>
	  <verbClass>Verb_CastAbility</verbClass>
	  <drawAimPie>true</drawAimPie>
	  <useableInPocketMaps>false</useableInPocketMaps>
      <warmupTime>3</warmupTime>
	  <ai_AvoidFriendlyFireRadius>23</ai_AvoidFriendlyFireRadius>
      <ai_IsBuildingDestroyer>true</ai_IsBuildingDestroyer>
	  <soundAiming>OrbitalTargeter_Aiming</soundAiming>
      <soundCast>OrbitalTargeter_Fire</soundCast>
	  <onlyManualCast>true</onlyManualCast>
      <range>44.9</range>
	  <requireLineOfSight>true</requireLineOfSight>
      <targetParams>
        <canTargetPawns>True</canTargetPawns>
        <canTargetLocations>True</canTargetLocations>
      </targetParams>
    </verbProperties>
	<cooldownTicksRange>3600000</cooldownTicksRange>
	<confirmationDialogText>If you use the mechhive satellite uplink, the mechanitor will fall into a psychic coma for 24 hours.\n\nDo you really want to use the mechhive satellite uplink?</confirmationDialogText>
  </AbilityDef>
  
  <!--Remote resurrector-->
  
  <ThingDef ParentName="MechanitorImplantCraftableBase" MayRequire="ludeon.rimworld.biotech">
    <defName>RemoteResurrector</defName>
    <label>remote resurrector</label>
    <description>An implant which allows the mechanitor to externally supercharging a recently-killed, allied mechanoid's self-repair processes, provided they have enough bandwidth to take that mech under their control. The mechanoid will come back with some but not all of its wounds healed.\n\nThis implant can be self-installed without surgery.\n\nThis implant can be installed up to 3 times to increase its range.</description>
    <descriptionHyperlinks><HediffDef>RemoteRepairerImplant</HediffDef></descriptionHyperlinks>
    <costList>
      <NanostructuringChip>1</NanostructuringChip>
      <ComponentSpacer>5</ComponentSpacer>
    </costList>
    <statBases>
      <MaxInstallCount>3</MaxInstallCount>
    </statBases>
    <recipeMaker>
      <researchPrerequisite>UltraMechtech</researchPrerequisite>
    </recipeMaker>
    <comps>
      <li Class="CompProperties_Usable">
        <compClass>CompUsableImplant</compClass>
        <useJob>UseItem</useJob>
        <useLabel>Implant {0_label}</useLabel>
        <userMustHaveHediff>MechlinkImplant</userMustHaveHediff>
      </li>
      <li Class="CompProperties_UseEffectInstallImplant">
        <hediffDef>RemoteResurrectorImplant</hediffDef>
        <bodyPart>Brain</bodyPart>
        <canUpgrade>true</canUpgrade>
      </li>
    </comps>
  </ThingDef>

  <HediffDef MayRequire="ludeon.rimworld.biotech">
    <defName>RemoteResurrectorImplant</defName>
    <hediffClass>Hediff_Level</hediffClass>
    <descriptionHyperlinks><ThingDef>RemoteResurrector</ThingDef></descriptionHyperlinks>
    <label>remote resurrector</label>
    <description>An implant which allows the mechanitor to externally supercharging a recently-killed, allied mechanoid's self-repair processes, provided they have enough bandwidth to take that mech under their control.\n\nThis implant can be self-installed without surgery.\n\nThis implant can be installed up to 3 times to increase its range.</description>
    <defaultLabelColor>(0.6, 0.6, 1.0)</defaultLabelColor>
    <isBad>false</isBad>
    <priceImpact>true</priceImpact>
    <initialSeverity>1</initialSeverity>
    <minSeverity>0</minSeverity>
    <maxSeverity>3</maxSeverity>
    <keepOnBodyPartRestoration>True</keepOnBodyPartRestoration>
    <levelIsQuantity>true</levelIsQuantity>
    <comps>
      <li Class="HediffCompProperties_GiveAbility">
        <abilityDefs>
          <li>RemoteResurrect</li>
        </abilityDefs>
      </li>
    </comps>
    <stages>
        <li>
          <minSeverity>1</minSeverity>
          <statOffsets>
            <MechRemoteResurrectDistance>7.9</MechRemoteResurrectDistance>
          </statOffsets>
        </li>
        <li>
          <minSeverity>2</minSeverity>
          <statOffsets>
            <MechRemoteResurrectDistance>13.9</MechRemoteResurrectDistance>
          </statOffsets>
        </li>
        <li>
          <minSeverity>3</minSeverity>
          <statOffsets>
            <MechRemoteResurrectDistance>19.9</MechRemoteResurrectDistance>
          </statOffsets>
        </li>
      </stages>
	  <duplicationAllowed>false</duplicationAllowed>
  </HediffDef>

  <AbilityDef MayRequire="ludeon.rimworld.biotech">
    <defName>RemoteResurrect</defName>
    <label>resurrect mech</label>
    <description>Resurrect a recently-killed, allied mechanoid by externally supercharging its self-repair processes. The mechanoid must have been dead for no more than 60 seconds and the mechinator must have the bandwidth spare to take the mechanoid under their control.</description>
    <iconPath>UI/Abilities/MechResurrection</iconPath>
    <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
	<warmupStartSound>MechResurrect_Warmup</warmupStartSound>
	<canUseAoeToGetTargets>False</canUseAoeToGetTargets>
	<warmupEffecter>MechanitorRessurectionWarmup</warmupEffecter>
	<hostile>false</hostile>
    <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
    <hotKey>Misc12</hotKey>
    <uiOrder>5</uiOrder>
	<comps>
	  <li Class="LTS_Implants.CompProperties_MechanitorResurrectMech">
	  <compClass>LTS_Implants.CompAbilityEffect_MechanitorResurrectMech</compClass>
        <maxCorpseAgeTicks>3600</maxCorpseAgeTicks><!-- 60 seconds -->
		<appliedEffecterDef>MechanitorMechResurrected</appliedEffecterDef><!--Doesn't seem to do anything-->
		<resolveEffecterDef>MechanitorRessurectionResolve</resolveEffecterDef>
      </li>
    </comps>
	<verbProperties>
	  <verbClass>Verb_CastAbility</verbClass>
	  <soundCast>MechResurrect_Cast</soundCast>
      <warmupTime>4</warmupTime>
	  <onlyManualCast>true</onlyManualCast>
      <range>7.9</range>
      <rangeStat>MechRemoteResurrectDistance</rangeStat>
	  <requireLineOfSight>true</requireLineOfSight>
      <targetParams>
        <canTargetPawns>false</canTargetPawns>
        <canTargetBuildings>false</canTargetBuildings>
        <canTargetCorpses>true</canTargetCorpses>
        <canTargetAnimals>false</canTargetAnimals>
        <canTargetHumans>false</canTargetHumans>
        <canTargetMechs>true</canTargetMechs>
      </targetParams>
    </verbProperties>
	<cooldownTicksRange>300000</cooldownTicksRange>
  </AbilityDef>
  
  <!--Remote dominator-->
  
  <ThingDef ParentName="MechanitorImplantCraftableBase" MayRequire="ludeon.rimworld.biotech">
    <defName>RemoteDominator</defName>
    <label>remote dominator</label>
    <description>An implant which allows the mechanitor to psychically attack and override a mechs IFF protocol, taking them under their control, provided the mechanoid is of a weight class lighter than superheavy and the mechanitor has enough bandwidth.\n\nThis implant can be self-installed without surgery.\n\nThis implant can be installed up to 3 times to increase its range.</description>
    <descriptionHyperlinks><HediffDef>RemoteDominatorImplant</HediffDef></descriptionHyperlinks>
    <costList>
      <NanostructuringChip>1</NanostructuringChip>
      <ComponentSpacer>5</ComponentSpacer>
    </costList>
    <statBases>
      <MaxInstallCount>3</MaxInstallCount>
    </statBases>
    <recipeMaker>
      <researchPrerequisite>UltraMechtech</researchPrerequisite>
    </recipeMaker>
    <comps>
      <li Class="CompProperties_Usable">
        <compClass>CompUsableImplant</compClass>
        <useJob>UseItem</useJob>
        <useLabel>Implant {0_label}</useLabel>
        <userMustHaveHediff>MechlinkImplant</userMustHaveHediff>
      </li>
      <li Class="CompProperties_UseEffectInstallImplant">
        <hediffDef>RemoteDominatorImplant</hediffDef>
        <bodyPart>Brain</bodyPart>
        <canUpgrade>true</canUpgrade>
      </li>
    </comps>
  </ThingDef>

  <HediffDef MayRequire="ludeon.rimworld.biotech">
    <defName>RemoteDominatorImplant</defName>
    <hediffClass>Hediff_Level</hediffClass>
    <descriptionHyperlinks><ThingDef>RemoteDominator</ThingDef></descriptionHyperlinks>
    <label>remote dominator</label>
    <description>An implant which allows the mechanitor to psychically attack and override a mechs IFF protocol, taking them under their control, provided the mechanoid is of a weight class lighter than superheavy and the mechanitor has enough bandwidth.\n\nThis implant can be self-installed without surgery.\n\nThis implant can be installed up to 3 times to increase its range.</description>
    <defaultLabelColor>(0.6, 0.6, 1.0)</defaultLabelColor>
    <isBad>false</isBad>
    <priceImpact>true</priceImpact>
    <initialSeverity>1</initialSeverity>
    <minSeverity>0</minSeverity>
    <maxSeverity>3</maxSeverity>
    <keepOnBodyPartRestoration>True</keepOnBodyPartRestoration>
    <levelIsQuantity>true</levelIsQuantity>
    <comps>
      <li Class="HediffCompProperties_GiveAbility">
        <abilityDefs>
          <li>RemoteDominate</li>
        </abilityDefs>
      </li>
    </comps>
    <stages>
        <li>
          <minSeverity>1</minSeverity>
          <statOffsets>
            <MechRemoteDominateDistance>7.9</MechRemoteDominateDistance>
          </statOffsets>
        </li>
        <li>
          <minSeverity>2</minSeverity>
          <statOffsets>
            <MechRemoteDominateDistance>13.9</MechRemoteDominateDistance>
          </statOffsets>
        </li>
        <li>
          <minSeverity>3</minSeverity>
          <statOffsets>
            <MechRemoteDominateDistance>19.9</MechRemoteDominateDistance>
          </statOffsets>
        </li>
      </stages>
	  <duplicationAllowed>false</duplicationAllowed>
  </HediffDef>

  <AbilityDef MayRequire="ludeon.rimworld.biotech">
    <defName>RemoteDominate</defName>
    <label>dominate mech</label>
    <description>Take control of an enemy mechanoid. the mechanoid must be of a weight class lighter than superheavy and the mechinator must have the bandwidth spare to take the mechanoid under their control.</description>
    <iconPath>UI/DominateMech</iconPath>
    <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
	<warmupStartSound>MechResurrect_Warmup</warmupStartSound>
	<canUseAoeToGetTargets>False</canUseAoeToGetTargets>
	<warmupEffecter>ControlMech</warmupEffecter>
	<hostile>true</hostile>
    <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
    <hotKey>Misc12</hotKey>
    <uiOrder>4</uiOrder>
	<stunTargetWhileCasting>True</stunTargetWhileCasting>
	<comps>
	  <li Class="LTS_Implants.CompProperties_MechanitorDominateMech">
	  <compClass>LTS_Implants.CompAbilityEffect_MechanitorDominateMech</compClass>
      </li>
    </comps>
	<verbProperties>
	  <verbClass>Verb_CastAbility</verbClass>
	  <soundCast>ControlMech_Complete</soundCast>
      <warmupTime>4</warmupTime>
	  <onlyManualCast>true</onlyManualCast>
      <range>7.9</range>
      <rangeStat>MechRemoteDominateDistance</rangeStat>
	  <requireLineOfSight>true</requireLineOfSight>
	  <!--<invalidTargetPawn>psychic shock immune</invalidTargetPawn>-->
      <targetParams>
        <canTargetPawns>true</canTargetPawns>
        <canTargetBuildings>false</canTargetBuildings>
        <canTargetCorpses>false</canTargetCorpses>
        <canTargetAnimals>false</canTargetAnimals>
        <canTargetHumans>false</canTargetHumans>
        <canTargetMechs>true</canTargetMechs>
      </targetParams>
    </verbProperties>
	<cooldownTicksRange>300000</cooldownTicksRange>
  </AbilityDef>
  
  <!--Mechwomb-->
  
  <ThingDef ParentName="MechanitorImplantCraftableBase" MayRequire="ludeon.rimworld.biotech">
    <defName>Mechwomb</defName>
    <label>mechwomb</label>
    <description>A miniaturised, implanted mechanoid gestator that allows the mechanitor to produce reinforcements in the field, without infrastructure or complex components.\n\nThis implant can be self-installed without surgery.\n\nThis implant can be installed up to 6 times to increase its capacity.</description>
    <descriptionHyperlinks><HediffDef>MechwombImplant</HediffDef><ThingDef>LTS_Mech_Isopod</ThingDef></descriptionHyperlinks>
    <costList>
      <PowerfocusChip>1</PowerfocusChip>
      <ComponentIndustrial>3</ComponentIndustrial>
	  <ComponentSpacer>3</ComponentSpacer>
    </costList>
    <statBases>
      <MaxInstallCount>6</MaxInstallCount>
    </statBases>
    <recipeMaker>
      <researchPrerequisite>HighMechtech</researchPrerequisite>
    </recipeMaker>
    <comps>
      <li Class="CompProperties_Usable">
        <compClass>CompUsableImplant</compClass>
        <useJob>UseItem</useJob>
        <useLabel>Implant {0_label}</useLabel>
        <userMustHaveHediff>MechlinkImplant</userMustHaveHediff>
      </li>
      <li Class="CompProperties_UseEffectInstallImplant">
        <hediffDef>MechwombImplant</hediffDef>
        <bodyPart>Torso</bodyPart>
        <canUpgrade>true</canUpgrade>
      </li>
    </comps>
  </ThingDef>

  <HediffDef MayRequire="ludeon.rimworld.biotech">
    <defName>MechwombImplant</defName>
    <hediffClass>Hediff_Level</hediffClass>
    <descriptionHyperlinks><ThingDef>Mechwomb</ThingDef></descriptionHyperlinks>
    <label>mechwomb</label>
    <description>A miniaturised, implanted mechanoid gestator that allows the mechanitor to produce reinforcements in the field, without infrastructure or complex components.\n\nThis implant can be self-installed without surgery.\n\nThis implant can be installed up to 6 times to increase its capacity.</description>
    <defaultLabelColor>(0.6, 0.6, 1.0)</defaultLabelColor>
    <isBad>false</isBad>
    <priceImpact>true</priceImpact>
    <initialSeverity>1</initialSeverity>
    <minSeverity>0</minSeverity>
    <maxSeverity>6</maxSeverity>
    <keepOnBodyPartRestoration>True</keepOnBodyPartRestoration>
    <levelIsQuantity>true</levelIsQuantity>
    <comps>
      <li Class="HediffCompProperties_GiveAbility">
        <abilityDefs>
          <li>ReleaseGrubs</li>
        </abilityDefs>
      </li>
	  <li Class="LTS_Implants.HediffCompProperties_KillSpawnedPawns">
	    <abilityDef>ReleaseGrubs</abilityDef>
	  </li>
    </comps>
    <stages>
        <li>
          <minSeverity>1</minSeverity>
          <statOffsets>
            <MechwombCapacity>20</MechwombCapacity>
          </statOffsets>
        </li>
        <li>
          <minSeverity>2</minSeverity>
          <statOffsets>
            <MechwombCapacity>40</MechwombCapacity>
          </statOffsets>
        </li>
        <li>
          <minSeverity>3</minSeverity>
          <statOffsets>
            <MechwombCapacity>60</MechwombCapacity>
          </statOffsets>
        </li>
		<li>
          <minSeverity>4</minSeverity>
          <statOffsets>
            <MechwombCapacity>80</MechwombCapacity>
          </statOffsets>
        </li>
        <li>
          <minSeverity>5</minSeverity>
          <statOffsets>
            <MechwombCapacity>100</MechwombCapacity>
          </statOffsets>
        </li>
        <li>
          <minSeverity>6</minSeverity>
          <statOffsets>
            <MechwombCapacity>120</MechwombCapacity>
          </statOffsets>
        </li>
      </stages>
	  <duplicationAllowed>false</duplicationAllowed>
  </HediffDef>

  <AbilityDef MayRequire="ludeon.rimworld.biotech">
    <abilityClass>LTS_Implants.AbilityReloadable</abilityClass>
    <defName>ReleaseGrubs</defName>
    <label>release grubs</label>
    <description>Release up to 2 grubs. each grub takes 10 steel to build. If the parent is killed, all linked grubs will die. Grubs cannot be recharged and will die once their power source runs out.\n\n(This implant currently generates 20 steel/day)</description>
    <iconPath>UI/ReleaseGrubs</iconPath>
    <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
	<warmupStartSound>MechResurrect_Warmup</warmupStartSound>
	<warmupEffecter>ControlMech</warmupEffecter>
	<hostile>true</hostile>
    <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
    <hotKey>Misc12</hotKey>
    <uiOrder>6</uiOrder>
	<!--<stunTargetWhileCasting>True</stunTargetWhileCasting>-->
	<targetRequired>False</targetRequired>
	<comps>
	  <li Class="LTS_Implants.CompProperties_MechanitorMechCarrier">
	    <compClass>LTS_Implants.CompAbilityEffect_MechanitorMechCarrier</compClass>
        <spawnPawnKind>LTS_Mech_Isopod</spawnPawnKind>
        <fixedIngredient>Steel</fixedIngredient>
        <costPerPawn>10</costPerPawn>
        <startingIngredientCount>20</startingIngredientCount>
		
        <maxIngredientStat>MechwombCapacity</maxIngredientStat>
		<soundReload>Standard_Reload</soundReload>
		
        <spawnEffecter>WarqueenWarUrchinsSpawned</spawnEffecter>
        <spawnedMechEffecter>WarUrchinSpawned</spawnedMechEffecter>
        <attachSpawnedEffecter>true</attachSpawnedEffecter>
        <attachSpawnedMechEffecter>true</attachSpawnedMechEffecter>
      </li>
	</comps>
	<verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
	  <soundCast>ControlMech_Complete</soundCast>
	  <warmupTime>4</warmupTime>
	  <range>500</range> <!--find some way to disable this-->
      
      <drawAimPie>False</drawAimPie>
      <requireLineOfSight>False</requireLineOfSight>
      <targetParams>
        <canTargetSelf>True</canTargetSelf>
      </targetParams>
    </verbProperties>
	
	<cooldownTicksRange>300</cooldownTicksRange>
  </AbilityDef>

</Defs>